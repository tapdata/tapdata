## **connection configuration description**

### **1. AWS RDS MySQL configuration description**

Please follow the following instructions to ensure the successful addition and use of the AWS RDS MySQL database in Tapdata.

### **2. Supported versions.**
AWS RDS MySQL 5.0、5.1、5.5、5.6、5.7、8.x

### **3. Prerequisites (as the source).**
#### **3.1 Enable Binlog.**
- Binlog must be enabled on AWS RDS MySQL for Tapdata to successfully perform synchronization tasks.
- Cascade deletion (CASCADE DELETE), which is generated by the database, is not supported because it is not recorded in the binlog.
Modify `$MYSQL_HOME/mysql.cnf `, for example:
```
server_id         = 223344
log_bin           = mysql-bin
expire_logs_days  = 1
binlog_format     = row
binlog_row_image  = full
```
Configuration explanation: <br>
server-id: For each server and replication client in AWS RDS MySQL, it must be unique.<br>
binlog_format：It must be set to "row" or "ROW".<br>
binlog_row_image：It must be set to "full".<br>
expire_logs_days：The number of days to retain binary log files. They will be automatically deleted upon expiration.<br>
log_bin：The base name of the binlog sequence files.<br>

#### **3.2 Restart AWS RDS MySQL**

```
/etc/inint.d/mysqld restart
```
To verify that binlog is enabled, please execute the following command in the MySQL shell:
```
show variables like 'binlog_format';
```
In the output result, the format value should be 'ROW'.

Verify if the value of the binlog_row_image parameter is 'full'.
```
show variables like 'binlog_row_image';
```
In the output result, the binlog_row_image value should be 'FULL'.

#### **3.3 Create an AWS RDS MySQL account.**
After MySQL 8, the encryption method for passwords is different. Please be aware of using the corresponding version's method to set the password; otherwise, it may result in the inability to perform incremental synchronization.
##### **3.3.1 Version 5.x.**
```
create user 'username'@'localhost' identified by 'password';
```
##### **3.3.2 Version 8.x**
```
// Create a user.
create user 'username'@'localhost' identified with mysql_native_password by 'password';
// Modify the password.
alter user 'username'@'localhost' identified with mysql_native_password by 'password';

```

#### **3.4 Grant permissions to the Tapdata account.**
Grant the SELECT privilege to a specific database.
```
GRANT SELECT, SHOW VIEW, CREATE ROUTINE, LOCK TABLES ON <DATABASE_NAME>.<TABLE_NAME> TO 'tapdata' IDENTIFIED BY 'password';
```
Grant global privileges.
```
GRANT RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'tapdata' IDENTIFIED BY 'password';
```
#### **3.5 Constraint explanation.**
```
When synchronizing from AWS RDS MySQL to other heterogeneous databases, if the source Aliyun RDS MySQL has table-level cascade settings, the data updates and deletions generated by such cascading triggers will not be propagated to the destination. If you need to build cascade processing capability at the destination, you can consider implementing this type of data synchronization through triggers or other means, depending on the specific requirements of the target system.